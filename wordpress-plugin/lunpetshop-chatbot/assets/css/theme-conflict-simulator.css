/**
 * Theme Conflict Simulator CSS
 * 
 * This file simulates CSS conflicts from production themes (cosmobit/lazypress)
 * to test widget styling locally before deploying to production.
 * 
 * Based on production theme CSS that causes:
 * - Image width collapsing to 0px
 * - Toggle button resizing from 64x64px to 56x40px
 * - Flex container conflicts
 * 
 * IMPORTANT: This CSS loads AFTER chat-widget.css to simulate production conflicts
 */

/* Simulate production theme's general button/image rules - must be more specific */
button img,
.chat-toggle img {
    width: auto !important;
    height: auto !important;
    max-width: 100% !important;
    flex-basis: auto !important;
    min-width: 0 !important;
}

/* Simulate production theme's button resizing - override our widget CSS */
#chat-toggle.chat-toggle,
button.chat-toggle,
.chat-toggle {
    width: 56px !important;
    height: 40px !important;
    min-width: 56px !important;
    min-height: 40px !important;
}

/* Simulate production theme's image width collapse in flex containers */
button[class*="toggle"] img,
.chat-toggle img,
#chat-toggle img {
    width: 0px !important;
    flex: 0 1 auto !important;
    flex-shrink: 1 !important;
    min-width: 0 !important;
}

/* Simulate production theme's flex container image rules */
*[style*="display: flex"] img,
*[style*="display:flex"] img,
button[style*="flex"] img {
    width: auto !important;
    flex-shrink: 1 !important;
    min-width: 0 !important;
}

/* ============================================
   WIDGET SIZE COLLISIONS (Production is smaller)
   ============================================ */


/* Simulate production theme reducing chat window size */
.lunpetshop-chat-widget .chat-window,
#chat-window {
    width: 240px !important;
    max-width: 240px !important;
    height: auto !important;
    max-height: 348.781px !important;
}

/* ============================================
   FONT SIZE COLLISIONS (Production fonts are smaller)
   ============================================ */

/* Simulate production theme reducing header title font from 16px to 10px */
.lunpetshop-chat-widget .chat-header h3,
.lunpetshop-chat-widget .chat-header h3 * {
    font-size: 10px !important;
    line-height: 1.2 !important;
}

/* Simulate production theme reducing header subtitle font from 12px to 7.5px */
.lunpetshop-chat-widget .chat-header p,
.lunpetshop-chat-widget .chat-header p * {
    font-size: 7.5px !important;
    line-height: 1.2 !important;
}

/* Simulate production theme reducing message font from ~21px to 16px */
.lunpetshop-chat-widget .message,
.lunpetshop-chat-widget .chat-message,
.lunpetshop-chat-widget .message *,
.lunpetshop-chat-widget .chat-message * {
    font-size: 16px !important;
    line-height: 1.4 !important;
}

/* Simulate production theme reducing button font sizes */
.lunpetshop-chat-widget .quick-action-button,
.lunpetshop-chat-widget button:not(.chat-toggle):not(.send-button) {
    font-size: 12px !important;
    padding: 6px 10px !important;
}

/* ============================================
   INPUT FIELD COLLISIONS (Production input - EXACT CSS COPY)
   ============================================ */

/* EXACT production CSS - input field has WHITE text on WHITE background (invisible!) */
.lunpetshop-chat-widget .chat-input input,
.lunpetshop-chat-widget .chat-input textarea,
.lunpetshop-chat-widget #chat-input {
    width: 165px !important;
    height: 27.625px !important;
    font-size: 8.75px !important;
    padding: 6.25px 10px !important;
    line-height: 13.125px !important;
    background-color: rgb(255, 255, 255) !important;
    color: rgb(255, 255, 255) !important; /* WHITE TEXT ON WHITE BG = INVISIBLE! */
    border: 1px solid rgba(0, 0, 0, 0) !important;
    border-radius: 9999px !important;
    box-sizing: border-box !important;
}

/* Simulate production theme reducing input container size */
.lunpetshop-chat-widget .chat-input {
    padding: 8px !important;
    gap: 8px !important;
}

/* ============================================
   SEND BUTTON COLLISIONS (Production - SVG width 0px = invisible icon)
   ============================================ */

/* EXACT production CSS - send button SVG is collapsed to 0px width */
.lunpetshop-chat-widget .send-button svg,
.lunpetshop-chat-widget button[aria-label*="Send"] svg,
.lunpetshop-chat-widget .send-button svg * {
    width: 0px !important;
    height: 11.25px !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    fill: none !important;
    stroke: rgb(15, 23, 42) !important;
}

/* Send button itself */
.lunpetshop-chat-widget .send-button,
.lunpetshop-chat-widget button[aria-label*="Send"] {
    width: 48px !important;
    height: 25px !important;
    background-color: rgba(0, 0, 0, 0) !important;
    border: 0px none rgb(15, 23, 42) !important;
    border-radius: 9999px !important;
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Simulate production theme reducing overall widget spacing */
.lunpetshop-chat-widget * {
    font-size: calc(1em * 0.625) !important; /* ~62.5% scale factor */
}

/* But preserve specific sizes we already set above */
.lunpetshop-chat-widget .chat-header h3,
.lunpetshop-chat-widget .chat-header h3 * {
    font-size: 10px !important;
}

.lunpetshop-chat-widget .chat-header p,
.lunpetshop-chat-widget .chat-header p * {
    font-size: 7.5px !important;
}

.lunpetshop-chat-widget .message,
.lunpetshop-chat-widget .chat-message,
.lunpetshop-chat-widget .message *,
.lunpetshop-chat-widget .chat-message * {
    font-size: 16px !important;
}

.lunpetshop-chat-widget .chat-input input,
.lunpetshop-chat-widget .chat-input textarea,
.lunpetshop-chat-widget #chat-input {
    font-size: 8.75px !important;
}

